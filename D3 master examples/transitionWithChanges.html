<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3: A bar chart that transitions to new data!</title>
		<script type="text/javascript" src="d3.v4.min.js"></script>
		<script type="text/javascript" src="d3.v3.js"></script>
	</head>
	<body>
	<svg width="800" height="500"></svg>
	<svg width="800" height="500"></svg>
	<script type="text/javascript">
		// Create a data array
		var data = [];
		// Do every 1s
		setInterval(function(){
		// Add new random element to data array
		if (data.length < 8) {
		data.push(Math.random());
		}
		else {
		console.log('vide');
		data = [];
		
		}
		// Redraw the scene
		draw();
		}, 2000);
		
		function draw() {
		var svg = d3.select('svg');
		// Bind data array to the Selection
		var circles = svg.selectAll('circle').data(data);
		// Update all original elements from the Selection
		circles
		.attr('fill', 'orange');
		// Update all elements, that are new to the Selection
		circles.enter()
		.append('circle')
		.attr('fill', 'red')
		.attr('r', 40)
		.attr('cx', function(d, i) { console.log(i); return i*100 + 50; })
		.attr('cy', 50);
		// Update all elements in the Selection
		circles
		.style('stroke', 'black');
		
		// Update all elements, that are removed from the Selection
		//circles.exit().remove();
		}
</script>

	</body>
</html>